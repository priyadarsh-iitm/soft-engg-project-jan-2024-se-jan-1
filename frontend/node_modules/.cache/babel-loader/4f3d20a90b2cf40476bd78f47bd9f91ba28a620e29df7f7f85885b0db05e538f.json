{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-dcfd9078\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container dark-mode\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"text-center mb-4\",\n  style: {\n    \"color\": \"#ff4444\"\n  }\n}, \"IITM TICKETING SYSTEM\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"card p-4 shadow-sm\",\n  style: {\n    \"background-color\": \"#333\"\n  }\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"text-center mb-4\",\n  style: {\n    \"color\": \"#fff\"\n  }\n}, \"Login\", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"form-group mb-3\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\",\n  style: {\n    \"color\": \"#fff\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"b\", null, \"Email\")], -1 /* HOISTED */));\nconst _hoisted_7 = {\n  class: \"form-group mb-3\"\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"password\",\n  style: {\n    \"color\": \"#fff\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"b\", null, \"Password\")], -1 /* HOISTED */));\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-primary btn-block\"\n}, \"Submit\", -1 /* HOISTED */));\nconst _hoisted_10 = {\n  class: \"text-center mt-3\",\n  style: {\n    \"color\": \"#fff\"\n  }\n};\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Click Here\", -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_RouterLink = _resolveComponent(\"RouterLink\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.loginUser && $options.loginUser(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"email\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.email = $event),\n    class: \"form-control\",\n    placeholder: \"Enter Email\",\n    autocomplete: \"off\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]])]), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event),\n    class: \"form-control\",\n    placeholder: \"Password\",\n    autocomplete: \"off\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]])]), _hoisted_9], 32 /* HYDRATE_EVENTS */), _createElementVNode(\"p\", _hoisted_10, [_createTextVNode(\" Forgot Password? \"), _createVNode(_component_RouterLink, {\n    to: \"/changePassword\",\n    style: {\n      \"color\": \"#ff4444\"\n    }\n  }, {\n    default: _withCtx(() => [_hoisted_11]),\n    _: 1 /* STABLE */\n  })])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","style","for","type","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","onSubmit","_cache","_withModifiers","args","$options","loginUser","_hoisted_5","_hoisted_6","id","$data","email","$event","placeholder","autocomplete","required","_hoisted_7","_hoisted_8","password","_hoisted_9","_hoisted_10","_createVNode","_component_RouterLink","to","_hoisted_11"],"sources":["E:\\IIT MADRAS\\SE_ST\\SE PROJECT\\Project 1\\Intermediate Work\\Code\\soft-engg-project-jan-2024-se-jan-1\\frontend\\src\\components\\LoginComponent.vue"],"sourcesContent":["<template>\r\n  <div class=\"container dark-mode\">\r\n    <h1 class=\"text-center mb-4\" style=\"color: #ff4444;\">IITM TICKETING SYSTEM</h1>\r\n    <div class=\"card p-4 shadow-sm\" style=\"background-color: #333;\">\r\n      <h2 class=\"text-center mb-4\" style=\"color: #fff;\">Login</h2>\r\n      <form @submit.prevent=\"loginUser\">\r\n        <div class=\"form-group mb-3\">\r\n          <label for=\"email\" style=\"color: #fff;\"><b>Email</b></label>\r\n          <input type=\"text\" id=\"email\" v-model=\"email\" class=\"form-control\" placeholder=\"Enter Email\" autocomplete=\"off\" required />\r\n        </div>\r\n        <div class=\"form-group mb-3\">\r\n          <label for=\"password\" style=\"color: #fff;\"><b>Password</b></label>\r\n          <input type=\"password\" id=\"password\" v-model=\"password\" class=\"form-control\" placeholder=\"Password\" autocomplete=\"off\" required />\r\n        </div>\r\n        <button type=\"submit\" class=\"btn btn-primary btn-block\">Submit</button>\r\n      </form>\r\n      <p class=\"text-center mt-3\" style=\"color: #fff;\">\r\n        Forgot Password? <RouterLink to=\"/changePassword\" style=\"color: #ff4444;\"><b>Click Here</b></RouterLink>\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n.dark-mode {\r\n  background-color: #222; /* Dark background color */\r\n  color: #fff; /* White text color */\r\n}\r\n\r\n.card {\r\n  border: none;\r\n  border-radius: 10px;\r\n}\r\n\r\n.btn-primary {\r\n  background-color: #007bff; /* Blue button color */\r\n  border-color: #007bff; /* Blue border color */\r\n}\r\n\r\n.btn-primary:hover {\r\n  background-color: #0056b3; /* Darker blue button color on hover */\r\n  border-color: #0056b3; /* Darker blue border color on hover */\r\n}\r\n\r\n.form-control {\r\n  background-color: #333; /* Darker background color for input fields */\r\n  color: #fff; /* White text color */\r\n  border-color: #555; /* Dark border color */\r\n}\r\n</style>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"LoginComponent\",\r\n  data() {\r\n    return {\r\n      email: \"\",\r\n      password: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    loginUser(e) {\r\n      e.preventDefault();\r\n      console.log(this.email, this.password);\r\n      axios.post(\"/login\", {\r\n        email: this.email,\r\n        password: this.password\r\n      }).then(res => {\r\n        console.log(res);\r\n        if (res.status == 200) {\r\n          localStorage.setItem(\"token\", res.data.token);\r\n          localStorage.setItem(\"user_id\", res.data.user_id);\r\n          this.$store.dispatch(\"user_id\", res.data.user_id);\r\n          localStorage.setItem(\"role\", res.data.role);\r\n          this.$store.dispatch(\"role\", res.data.role);\r\n          axios.defaults.headers.common[\"secret_authtoken\"] = res.data.token;\r\n          if(res.data.role == \"1\"){\r\n            this.$router.push(\"/dashboard\");\r\n          }\r\n          else if(res.data.role == \"3\"){\r\n            this.$router.push(\"/dashboard\");\r\n          }\r\n          else if(res.data.role == \"2\"){\r\n            this.$router.push(\"/dashboard\");\r\n          }\r\n          else if(res.data.role == \"4\"){\r\n            this.$router.push(\"/dashboard\");\r\n          }\r\n        } else {\r\n          alert(res.data.message);\r\n        }\r\n      }).catch(err => {\r\n        console.log(err);\r\n      });\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  /* border: #40cbea solid 2px;\r\n  border-radius: 20px; */\r\n  font-family: \"Muli\", sans-serif;\r\n  margin-top: 50px;\r\n  width: 50%;\r\n  padding: 20px 40px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n}\r\n\r\n.container h1 {\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n  font-size: 50px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 25px;\r\n}\r\n\r\nlabel {\r\n  font-size: 20px;\r\n  font-weight: 500;\r\n  color: #333;\r\n  margin-bottom: 5px;\r\n}\r\n</style>\r\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAqB;gEAC9BC,mBAAA,CAA+E;EAA3ED,KAAK,EAAC,kBAAkB;EAACE,KAAuB,EAAvB;IAAA;EAAA;GAAwB,uBAAqB;;EACrEF,KAAK,EAAC,oBAAoB;EAACE,KAA+B,EAA/B;IAAA;EAAA;;gEAC9BD,mBAAA,CAA4D;EAAxDD,KAAK,EAAC,kBAAkB;EAACE,KAAoB,EAApB;IAAA;EAAA;GAAqB,OAAK;;EAEhDF,KAAK,EAAC;AAAiB;gEAC1BC,mBAAA,CAA4D;EAArDE,GAAG,EAAC,OAAO;EAACD,KAAoB,EAApB;IAAA;EAAA;iBAAqBD,mBAAA,CAAY,WAAT,OAAK,E;;EAG7CD,KAAK,EAAC;AAAiB;gEAC1BC,mBAAA,CAAkE;EAA3DE,GAAG,EAAC,UAAU;EAACD,KAAoB,EAApB;IAAA;EAAA;iBAAqBD,mBAAA,CAAe,WAAZ,UAAQ,E;gEAGxDA,mBAAA,CAAuE;EAA/DG,IAAI,EAAC,QAAQ;EAACJ,KAAK,EAAC;GAA4B,QAAM;;EAE7DA,KAAK,EAAC,kBAAkB;EAACE,KAAoB,EAApB;IAAA;EAAA;;iEACgDD,mBAAA,CAAiB,WAAd,YAAU;;;;uBAhB7FI,mBAAA,CAmBM,OAnBNC,UAmBM,GAlBJC,UAA+E,EAC/EN,mBAAA,CAgBM,OAhBNO,UAgBM,GAfJC,UAA4D,EAC5DR,mBAAA,CAUO;IAVAS,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,SAAA,IAAAD,QAAA,CAAAC,SAAA,IAAAF,IAAA,CAAS;MAC9BZ,mBAAA,CAGM,OAHNe,UAGM,GAFJC,UAA4D,E,gBAC5DhB,mBAAA,CAA2H;IAApHG,IAAI,EAAC,MAAM;IAACc,EAAE,EAAC,OAAO;+DAAUC,KAAA,CAAAC,KAAK,GAAAC,MAAA;IAAErB,KAAK,EAAC,cAAc;IAACsB,WAAW,EAAC,aAAa;IAACC,YAAY,EAAC,KAAK;IAACC,QAAQ,EAAR;iDAAzEL,KAAA,CAAAC,KAAK,E,KAE9CnB,mBAAA,CAGM,OAHNwB,UAGM,GAFJC,UAAkE,E,gBAClEzB,mBAAA,CAAkI;IAA3HG,IAAI,EAAC,UAAU;IAACc,EAAE,EAAC,UAAU;+DAAUC,KAAA,CAAAQ,QAAQ,GAAAN,MAAA;IAAErB,KAAK,EAAC,cAAc;IAACsB,WAAW,EAAC,UAAU;IAACC,YAAY,EAAC,KAAK;IAACC,QAAQ,EAAR;iDAAzEL,KAAA,CAAAQ,QAAQ,E,KAExDC,UAAuE,C,4BAEzE3B,mBAAA,CAEI,KAFJ4B,WAEI,G,iBAF6C,oBAC9B,GAAAC,YAAA,CAAuFC,qBAAA;IAA3EC,EAAE,EAAC,iBAAiB;IAAC9B,KAAuB,EAAvB;MAAA;IAAA;;sBAAwB,MAAiB,CAAjB+B,WAAiB,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}