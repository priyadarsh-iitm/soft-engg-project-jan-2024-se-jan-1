{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: \"FaqComponent\",\n  data() {\n    return {\n      tickets: [],\n      categories: [],\n      selected_ticket: null,\n      selected: null,\n      cat: null\n    };\n  },\n  async created() {\n    var res2 = await axios.get('/api/category');\n    this.categories = res2.data.data;\n    await axios.get(\"/api/faq\").then(res => {\n      // console.log(res.data.data);\n      for (var i = 0; i < res.data.data.length; i++) {\n        this.tickets.push(res.data.data[i]);\n      }\n    });\n  },\n  methods: {\n    async addCategory() {\n      var res = await axios.post('/api/category', {\n        category: this.cat\n      });\n      console.log(res);\n      this.$router.go();\n    },\n    async changeCategory() {\n      var res = await axios.patch('/api/faq', {\n        ticket_id: this.selected_ticket,\n        is_approved: true,\n        category: this.selected\n      });\n      console.log(res);\n      this.$router.go();\n    },\n    async removeFromFAQ(ticket_id) {\n      var res = await axios.patch('/api/faq', {\n        ticket_id: ticket_id,\n        is_approved: false\n      });\n      console.log(res);\n      this.$router.go();\n    },\n    increaseVote(ticket_id, upVotes) {\n      var data = {\n        ticket_id: ticket_id,\n        number_of_upvotes: upVotes + 1\n      };\n      data = JSON.stringify(data);\n      axios.patch(\"/api/ticketAll\", data).then(res => {\n        console.log(res);\n      }).catch(err => {\n        console.log(err);\n      });\n      this.$router.go();\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","tickets","categories","selected_ticket","selected","cat","created","res2","get","then","res","i","length","push","methods","addCategory","post","category","console","log","$router","go","changeCategory","patch","ticket_id","is_approved","removeFromFAQ","increaseVote","upVotes","number_of_upvotes","JSON","stringify","catch","err"],"sources":["E:\\IIT MADRAS\\SE_ST\\SE PROJECT\\Project 1\\Intermediate Work\\Code\\soft-engg-project-jan-2024-se-jan-1\\frontend\\src\\components\\FaqComponent.vue"],"sourcesContent":["<template>\r\n    <div class=\"container dark-mode\">\r\n        <div class=\"topic-container\">\r\n            <div class=\"container\" v-for=\"(category, index) in categories\" :key=\"index\">\r\n                <h3 style=\"color: #fff;\"> {{ category  }}</h3>\r\n                <br>\r\n                <div v-for=\"t in tickets\" :key=\"t.ticket_id\">\r\n                    <div class=\"container\" v-if=\"t.is_approved && t.category==category\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-10\">\r\n                                <p class=\"ticket-title\">\r\n                                    <RouterLink :to=\"{ name: 'response', params: { ticketId: t.ticket_id } }\" style=\"color: #fff;\">\r\n                                        {{ t.title }}\r\n                                    </RouterLink>\r\n                                </p>\r\n                                <p style=\"color: #fff;\">{{ t.description }}</p>\r\n                            </div>\r\n                            <div class=\"col-md-2\">\r\n                                <div class=\"row\">\r\n                                    <button class=\"btn upvote\" @click=\"increaseVote(t.ticket_id, t.number_of_upvotes)\"\r\n                                        style=\"color: #fff;\">^<br>{{ t.number_of_upvotes }}</button>\r\n                                </div>\r\n                                <div class=\"row\" v-if=\"this.$store.state.role==3\">\r\n                                    <div class=\"btn-group\">\r\n                                        <button type=\"button\" class=\"btn dropdown-toggle\" data-bs-toggle=\"dropdown\"\r\n                                            style=\"color: #fff;\">\r\n                                            Options\r\n                                        </button>\r\n                                        <ul class=\"dropdown-menu\">\r\n                                            <button class=\"dropdown-item text-center\" @click=\"removeFromFAQ(t.ticket_id)\"\r\n                                                style=\"color: #fff;\"> Remove From FAQ </button>\r\n                                            <button class=\"dropdown-item text-center\" data-bs-toggle=\"modal\"\r\n                                                data-bs-target=\"#faqModal\" @click=\"this.selected_ticket = t.ticket_id; this.selected=t.category\"\r\n                                                style=\"color: #fff;\"> Change Category </button>\r\n                                        </ul>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <hr />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- Modal -->\r\n    <div class=\"modal fade\" id=\"faqModal\" tabindex=\"-1\" aria-labelledby=\"faqModalLabel\" aria-hidden=\"true\">\r\n        <div class=\"modal-dialog\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\" id=\"faqModalLabel\" style=\"color: #fff;\">Please choose the appropriate category</h5>\r\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <select v-model=\"selected\" style=\"color: #000;\">\r\n                        <option disabled value=\"\">Please select one</option>\r\n                        <option v-for=\"(c, index) in categories\" :key=\"index\">{{ c }}</option>\r\n                    </select>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n                    <button type=\"button\" class=\"btn btn-success\" data-bs-dismiss=\"modal\" @click=\"changeCategory()\">Submit</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"container\" v-if=\"this.$store.state.role==3\">\r\n        <div class=\"text-center\">\r\n            <button class=\"btn btn-warning\" data-bs-toggle=\"modal\" data-bs-target=\"#categoryModal\">\r\n                <b>New Category</b>\r\n            </button>\r\n        </div>\r\n        <!-- Modal -->\r\n        <div class=\"modal fade\" id=\"categoryModal\" tabindex=\"-1\" aria-labelledby=\"categoryModalLabel\" aria-hidden=\"true\">\r\n            <div class=\"modal-dialog\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h5 class=\"modal-title\" id=\"categoryModalLabel\" style=\"color: #fff;\">Please add the appropriate category name</h5>\r\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <div class=\"form-group\">\r\n                            <label style=\"color: #fff;\">Category: </label>\r\n                            <input type=\"text\" v-model=\"cat\" class=\"form-control\" placeholder=\"Enter Category\" autocomplete=\"off\"\r\n                                required>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n                        <button type=\"button\" class=\"btn btn-success\" data-bs-dismiss=\"modal\" @click=\" addCategory()\">Submit</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<style>\r\n.dark-mode {\r\n    background-color: #222; /* Dark background color */\r\n    color: #fff; /* White text color */\r\n}\r\n\r\n.heading {\r\n    color: #fff; /* White text color for button text */\r\n}\r\n\r\n.card {\r\n    background-color: #333; /* Darker background color for cards */\r\n    color: #fff; /* White text color for card content */\r\n}\r\n\r\n.form-group label {\r\n    color: #fff; /* White text color for form labels */\r\n}\r\n\r\n.form-control {\r\n    background-color: #444; /* Darker background color for form inputs */\r\n    color: #fff; /* White text color for form inputs */\r\n    border-color: #555; /* Dark border color for form inputs */\r\n}\r\n\r\n.btn-primary {\r\n    background-color: #007bff; /* Blue button color */\r\n    border-color: #007bff; /* Blue border color */\r\n    color: #fff; /* White text color */\r\n}\r\n\r\n.btn-primary:hover {\r\n    background-color: #0056b3; /* Darker blue button color on hover */\r\n    border-color: #0056b3; /* Darker blue border color on hover */\r\n}\r\n</style>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    name: \"FaqComponent\",\r\n    data() {\r\n        return {\r\n            tickets: [],\r\n            categories: [],\r\n            selected_ticket: null,\r\n            selected: null,\r\n            cat: null\r\n        };\r\n    },\r\n    async created() {\r\n        var res2 = await axios.get('/api/category');\r\n        this.categories = res2.data.data;\r\n        await axios.get(\"/api/faq\").then((res) => {\r\n            // console.log(res.data.data);\r\n            for (var i = 0; i < res.data.data.length; i++) {\r\n                this.tickets.push(res.data.data[i]);\r\n            }\r\n        });\r\n    },\r\n    methods: {\r\n        async addCategory() {\r\n            var res = await axios.post('/api/category', {\r\n                category: this.cat\r\n            });\r\n            console.log(res);\r\n            this.$router.go();\r\n        },\r\n        async changeCategory() {\r\n            var res = await axios.patch('/api/faq', {\r\n                ticket_id: this.selected_ticket,\r\n                is_approved: true,\r\n                category: this.selected\r\n            });\r\n            console.log(res);\r\n            this.$router.go();\r\n        },\r\n        async removeFromFAQ(ticket_id) {\r\n            var res = await axios.patch('/api/faq', {\r\n                ticket_id: ticket_id,\r\n                is_approved: false\r\n            });\r\n            console.log(res);\r\n            this.$router.go();\r\n        },\r\n        increaseVote(ticket_id, upVotes) {\r\n            var data = {\r\n                ticket_id: ticket_id,\r\n                number_of_upvotes: upVotes + 1\r\n            }\r\n            data = JSON.stringify(data);\r\n            axios.patch(\"/api/ticketAll\", data).then((res) => {\r\n                console.log(res);\r\n            }).catch((err) => {\r\n                console.log(err);\r\n            });\r\n            this.$router.go();\r\n        },\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n.topic-container {\r\n    margin: 33px 63px;\r\n}\r\n\r\n.upvote {\r\n    font-size: 20px;\r\n}\r\n\r\n.ticket-title {\r\n    font-weight: bold;\r\n    font-size: 25px;\r\n}\r\n.btn a {\r\n    color: rgb(255, 255, 255);\r\n    text-decoration: none;\r\n}\r\n\r\na {\r\n    color: rgb(0, 0, 0);\r\n    text-decoration: none;\r\n}\r\n</style>"],"mappings":";AAuIA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACXC,IAAI,EAAE,cAAc;EACpBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,OAAO,EAAE,EAAE;MACXC,UAAU,EAAE,EAAE;MACdC,eAAe,EAAE,IAAI;MACrBC,QAAQ,EAAE,IAAI;MACdC,GAAG,EAAE;IACT,CAAC;EACL,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACZ,IAAIC,IAAG,GAAI,MAAMT,KAAK,CAACU,GAAG,CAAC,eAAe,CAAC;IAC3C,IAAI,CAACN,UAAS,GAAIK,IAAI,CAACP,IAAI,CAACA,IAAI;IAChC,MAAMF,KAAK,CAACU,GAAG,CAAC,UAAU,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAK;MACtC;MACA,KAAK,IAAIC,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAID,GAAG,CAACV,IAAI,CAACA,IAAI,CAACY,MAAM,EAAED,CAAC,EAAE,EAAE;QAC3C,IAAI,CAACV,OAAO,CAACY,IAAI,CAACH,GAAG,CAACV,IAAI,CAACA,IAAI,CAACW,CAAC,CAAC,CAAC;MACvC;IACJ,CAAC,CAAC;EACN,CAAC;EACDG,OAAO,EAAE;IACL,MAAMC,WAAWA,CAAA,EAAG;MAChB,IAAIL,GAAE,GAAI,MAAMZ,KAAK,CAACkB,IAAI,CAAC,eAAe,EAAE;QACxCC,QAAQ,EAAE,IAAI,CAACZ;MACnB,CAAC,CAAC;MACFa,OAAO,CAACC,GAAG,CAACT,GAAG,CAAC;MAChB,IAAI,CAACU,OAAO,CAACC,EAAE,EAAE;IACrB,CAAC;IACD,MAAMC,cAAcA,CAAA,EAAG;MACnB,IAAIZ,GAAE,GAAI,MAAMZ,KAAK,CAACyB,KAAK,CAAC,UAAU,EAAE;QACpCC,SAAS,EAAE,IAAI,CAACrB,eAAe;QAC/BsB,WAAW,EAAE,IAAI;QACjBR,QAAQ,EAAE,IAAI,CAACb;MACnB,CAAC,CAAC;MACFc,OAAO,CAACC,GAAG,CAACT,GAAG,CAAC;MAChB,IAAI,CAACU,OAAO,CAACC,EAAE,EAAE;IACrB,CAAC;IACD,MAAMK,aAAaA,CAACF,SAAS,EAAE;MAC3B,IAAId,GAAE,GAAI,MAAMZ,KAAK,CAACyB,KAAK,CAAC,UAAU,EAAE;QACpCC,SAAS,EAAEA,SAAS;QACpBC,WAAW,EAAE;MACjB,CAAC,CAAC;MACFP,OAAO,CAACC,GAAG,CAACT,GAAG,CAAC;MAChB,IAAI,CAACU,OAAO,CAACC,EAAE,EAAE;IACrB,CAAC;IACDM,YAAYA,CAACH,SAAS,EAAEI,OAAO,EAAE;MAC7B,IAAI5B,IAAG,GAAI;QACPwB,SAAS,EAAEA,SAAS;QACpBK,iBAAiB,EAAED,OAAM,GAAI;MACjC;MACA5B,IAAG,GAAI8B,IAAI,CAACC,SAAS,CAAC/B,IAAI,CAAC;MAC3BF,KAAK,CAACyB,KAAK,CAAC,gBAAgB,EAAEvB,IAAI,CAAC,CAACS,IAAI,CAAEC,GAAG,IAAK;QAC9CQ,OAAO,CAACC,GAAG,CAACT,GAAG,CAAC;MACpB,CAAC,CAAC,CAACsB,KAAK,CAAEC,GAAG,IAAK;QACdf,OAAO,CAACC,GAAG,CAACc,GAAG,CAAC;MACpB,CAAC,CAAC;MACF,IAAI,CAACb,OAAO,CAACC,EAAE,EAAE;IACrB;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}