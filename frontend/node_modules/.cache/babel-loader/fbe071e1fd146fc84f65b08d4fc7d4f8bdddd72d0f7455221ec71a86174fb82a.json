{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-dcfd9078\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"text-center\"\n}, \"IITM TICKETING SYSTEM\", -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"text-center\",\n  style: {\n    \"color\": \"red\"\n  }\n}, \"Login\", -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"form-group\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, [/*#__PURE__*/_createElementVNode(\"b\", null, \"Email\")], -1 /* HOISTED */));\nconst _hoisted_6 = {\n  class: \"form-group\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, [/*#__PURE__*/_createElementVNode(\"b\", null, \"Password\")], -1 /* HOISTED */));\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-primary btn\"\n}, \"Submit\", -1 /* HOISTED */));\nconst _hoisted_9 = {\n  class: \"text\",\n  style: {\n    \"margin-top\": \"10px\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_RouterLink = _resolveComponent(\"RouterLink\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _hoisted_3, _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.loginUser && $options.loginUser(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.email = $event),\n    class: \"form-control\",\n    placeholder: \"Enter Email\",\n    autocomplete: \"off\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]])]), _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event),\n    class: \"form-control\",\n    placeholder: \"Password\",\n    autocomplete: \"off\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]])]), _hoisted_8, _createElementVNode(\"p\", _hoisted_9, [_createTextVNode(\" Forgot Password?\"), _createVNode(_component_RouterLink, {\n    to: \"/changePassword\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Click Here\")]),\n    _: 1 /* STABLE */\n  })])], 32 /* HYDRATE_EVENTS */)]);\n}","map":{"version":3,"names":["class","_createElementVNode","style","type","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onSubmit","_cache","_withModifiers","args","$options","loginUser","_hoisted_4","_hoisted_5","$data","email","$event","placeholder","autocomplete","required","_hoisted_6","_hoisted_7","password","_hoisted_8","_hoisted_9","_createVNode","_component_RouterLink","to"],"sources":["E:\\IIT MADRAS\\SE_ST\\SE PROJECT\\Project 1\\Intermediate Work\\Code\\soft-engg-project-jan-2024-se-jan-1\\frontend\\src\\components\\LoginComponent.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h1 class=\"text-center\">IITM TICKETING SYSTEM</h1>\r\n    <h1 class=\"text-center\" style=\"color: red;\">Login</h1>\r\n    <form @submit.prevent=\"loginUser\">\r\n      <div class=\"form-group\">\r\n        <label><b>Email</b></label>\r\n        <input type=\"text\" v-model=\"email\" class=\"form-control\" placeholder=\"Enter Email\" autocomplete=\"off\" required />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label><b>Password</b></label>\r\n        <input type=\"password\" v-model=\"password\" class=\"form-control\" placeholder=\"Password\" autocomplete=\"off\" required />\r\n      </div>\r\n      <button type=\"submit\" class=\"btn btn-primary btn\">Submit</button>\r\n\r\n      <p class=\"text\" style=\"margin-top:10px\">\r\n        Forgot Password?<RouterLink to=\"/changePassword\">Click Here</RouterLink>\r\n      </p>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"LoginComponent\",\r\n  data() {\r\n    return {\r\n      email: \"\",\r\n      password: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    loginUser(e) {\r\n      e.preventDefault();\r\n      console.log(this.email, this.password);\r\n      axios.post(\"/login\", {\r\n        email: this.email,\r\n        password: this.password\r\n      }).then(res => {\r\n        console.log(res);\r\n        if (res.status == 200) {\r\n          localStorage.setItem(\"token\", res.data.token);\r\n          localStorage.setItem(\"user_id\", res.data.user_id);\r\n          this.$store.dispatch(\"user_id\", res.data.user_id);\r\n          localStorage.setItem(\"role\", res.data.role);\r\n          this.$store.dispatch(\"role\", res.data.role);\r\n          axios.defaults.headers.common[\"secret_authtoken\"] = res.data.token;\r\n          if(res.data.role == \"1\"){\r\n            this.$router.push(\"/dashboard\");\r\n          }\r\n          else if(res.data.role == \"3\"){\r\n            this.$router.push(\"/dashboard\");\r\n          }\r\n          else if(res.data.role == \"2\"){\r\n            this.$router.push(\"/dashboard\");\r\n          }\r\n          else if(res.data.role == \"4\"){\r\n            this.$router.push(\"/dashboard\");\r\n          }\r\n        } else {\r\n          alert(res.data.message);\r\n        }\r\n      }).catch(err => {\r\n        console.log(err);\r\n      });\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  /* border: #40cbea solid 2px;\r\n  border-radius: 20px; */\r\n  font-family: \"Muli\", sans-serif;\r\n  margin-top: 50px;\r\n  width: 50%;\r\n  padding: 20px 40px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n}\r\n\r\n.container h1 {\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n  font-size: 50px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 25px;\r\n}\r\n\r\nlabel {\r\n  font-size: 20px;\r\n  font-weight: 500;\r\n  color: #333;\r\n  margin-bottom: 5px;\r\n}\r\n</style>\r\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAW;gEACpBC,mBAAA,CAAkD;EAA9CD,KAAK,EAAC;AAAa,GAAC,uBAAqB;gEAC7CC,mBAAA,CAAsD;EAAlDD,KAAK,EAAC,aAAa;EAACE,KAAmB,EAAnB;IAAA;EAAA;GAAoB,OAAK;;EAE1CF,KAAK,EAAC;AAAY;gEACrBC,mBAAA,CAA2B,gB,aAApBA,mBAAA,CAAY,WAAT,OAAK,E;;EAGZD,KAAK,EAAC;AAAY;gEACrBC,mBAAA,CAA8B,gB,aAAvBA,mBAAA,CAAe,WAAZ,UAAQ,E;gEAGpBA,mBAAA,CAAiE;EAAzDE,IAAI,EAAC,QAAQ;EAACH,KAAK,EAAC;GAAsB,QAAM;;EAErDA,KAAK,EAAC,MAAM;EAACE,KAAuB,EAAvB;IAAA;EAAA;;;;uBAdpBE,mBAAA,CAkBM,OAlBNC,UAkBM,GAjBJC,UAAkD,EAClDC,UAAsD,EACtDN,mBAAA,CAcO;IAdAO,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,SAAA,IAAAD,QAAA,CAAAC,SAAA,IAAAF,IAAA,CAAS;MAC9BV,mBAAA,CAGM,OAHNa,UAGM,GAFJC,UAA2B,E,gBAC3Bd,mBAAA,CAAgH;IAAzGE,IAAI,EAAC,MAAM;+DAAUa,KAAA,CAAAC,KAAK,GAAAC,MAAA;IAAElB,KAAK,EAAC,cAAc;IAACmB,WAAW,EAAC,aAAa;IAACC,YAAY,EAAC,KAAK;IAACC,QAAQ,EAAR;iDAAzEL,KAAA,CAAAC,KAAK,E,KAEnChB,mBAAA,CAGM,OAHNqB,UAGM,GAFJC,UAA8B,E,gBAC9BtB,mBAAA,CAAoH;IAA7GE,IAAI,EAAC,UAAU;+DAAUa,KAAA,CAAAQ,QAAQ,GAAAN,MAAA;IAAElB,KAAK,EAAC,cAAc;IAACmB,WAAW,EAAC,UAAU;IAACC,YAAY,EAAC,KAAK;IAACC,QAAQ,EAAR;iDAAzEL,KAAA,CAAAQ,QAAQ,E,KAE1CC,UAAiE,EAEjExB,mBAAA,CAEI,KAFJyB,UAEI,G,iBAFoC,mBACtB,GAAAC,YAAA,CAAwDC,qBAAA;IAA5CC,EAAE,EAAC;EAAiB;sBAAC,MAAU,C,iBAAV,YAAU,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}