{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-22048332\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container dark-mode\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"text-center\",\n  style: {\n    \"color\": \"aqua\"\n  }\n}, \"Edit Ticket\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"form-group\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  style: {\n    \"color\": \"#fff\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"b\", null, \"Title\")], -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"form-group\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  style: {\n    \"color\": \"#fff\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"b\", null, \"Description\")], -1 /* HOISTED */));\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-success\"\n}, \"Submit\", -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.editCard && $options.editCard(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.ct = $event),\n    class: \"form-control\",\n    autocomplete: \"off\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.ct]])]), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.cc = $event),\n    class: \"form-control\",\n    autocomplete: \"off\",\n    required: \"\",\n    rows: \"10\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.cc]])]), _hoisted_7], 32 /* HYDRATE_EVENTS */)]);\n}","map":{"version":3,"names":["class","_createElementVNode","style","type","_createElementBlock","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","editCard","_hoisted_3","_hoisted_4","$data","ct","$event","autocomplete","required","_hoisted_5","_hoisted_6","cc","rows","_hoisted_7"],"sources":["E:\\IIT MADRAS\\SE_ST\\SE PROJECT\\Project 1\\Intermediate Work\\Code\\soft-engg-project-jan-2024-se-jan-1\\frontend\\src\\components\\EditTicketComponent.vue"],"sourcesContent":["<template>\r\n    <div class=\"container dark-mode\">\r\n        <h1 class=\"text-center\" style=\"color: aqua;\">Edit Ticket</h1>\r\n        <form @submit.prevent=\"editCard\">\r\n            <div class=\"form-group\">\r\n                <label style=\"color: #fff;\"><b>Title</b></label>\r\n                <input type=\"text\" v-model=\"ct\" class=\"form-control\" autocomplete=\"off\" required />\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label style=\"color: #fff;\"><b>Description</b></label>\r\n                <textarea v-model=\"cc\" class=\"form-control\" autocomplete=\"off\" required rows=\"10\"></textarea>\r\n            </div>\r\n            <button type=\"submit\" class=\"btn btn-success\">Submit</button>\r\n        </form>\r\n    </div>\r\n</template>\r\n  \r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n    name: \"EditTicketComponent\",\r\n    data() {\r\n        return {\r\n            ct: \"\",\r\n            cc: \"\",\r\n            t:this.$route.params.ticketId,\r\n        }\r\n    },\r\n    async created() {\r\n        console.log(this.t);\r\n        await axios.get(\"/api/ticket\").then((res) => {\r\n            // console.log(res.data.data);\r\n            for (var i = 0; i < res.data.data.length; i++) {\r\n                if (res.data.data[i].ticket_id == this.t) {\r\n                    this.ct = res.data.data[i].title;\r\n                    this.cc = res.data.data[i].description;\r\n                }\r\n            }\r\n        });\r\n    },\r\n    methods: {\r\n        async editCard(e) {\r\n            e.preventDefault();   \r\n            var data = {\r\n                ticket_id: this.t,\r\n                title: this.ct,\r\n                description: this.cc,\r\n            };\r\n            data = JSON.stringify(data);\r\n            await axios.patch(\"/api/ticket\",data).then((res) => {\r\n                console.log(res);\r\n                if (res.status == 200) {\r\n                    alert(\"Ticket Edited Successfully\");\r\n                    this.$router.push(\"/dashboard\");\r\n                } else {\r\n                    alert(res.data.message);\r\n                }\r\n            }).catch((err) => {\r\n                console.log(err);\r\n            });         \r\n        }\r\n    }\r\n}\r\n</script>\r\n  \r\n<style scoped>\r\n.container {\r\n    font-family: \"Muli\", sans-serif;\r\n    /* display: flex;\r\n     */\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 75vh;\r\n    overflow: hidden;\r\n    margin-top: 75px;\r\n}\r\n\r\nlabel {\r\n    font-size: 1.2rem;\r\n    font-weight: 500;\r\n    margin-bottom: 5px;\r\n}\r\n\r\nh1 {\r\n    font-size: 3rem;\r\n    font-weight: 700;\r\n    margin-bottom: 2rem;\r\n}\r\n\r\n.form-group {\r\n    margin-bottom: 1.5rem;\r\n}\r\n</style>\r\n  "],"mappings":";;;EACSA,KAAK,EAAC;AAAqB;gEAC5BC,mBAAA,CAA6D;EAAzDD,KAAK,EAAC,aAAa;EAACE,KAAoB,EAApB;IAAA;EAAA;GAAqB,aAAW;;EAE/CF,KAAK,EAAC;AAAY;gEACnBC,mBAAA,CAAgD;EAAzCC,KAAoB,EAApB;IAAA;EAAA;AAAoB,I,aAACD,mBAAA,CAAY,WAAT,OAAK,E;;EAGnCD,KAAK,EAAC;AAAY;gEACnBC,mBAAA,CAAsD;EAA/CC,KAAoB,EAApB;IAAA;EAAA;AAAoB,I,aAACD,mBAAA,CAAkB,WAAf,aAAW,E;gEAG9CA,mBAAA,CAA6D;EAArDE,IAAI,EAAC,QAAQ;EAACH,KAAK,EAAC;GAAkB,QAAM;;;uBAX5DI,mBAAA,CAaM,OAbNC,UAaM,GAZFC,UAA6D,EAC7DL,mBAAA,CAUO;IAVAM,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,QAAA,IAAAD,QAAA,CAAAC,QAAA,IAAAF,IAAA,CAAQ;MAC3BT,mBAAA,CAGM,OAHNY,UAGM,GAFFC,UAAgD,E,gBAChDb,mBAAA,CAAmF;IAA5EE,IAAI,EAAC,MAAM;+DAAUY,KAAA,CAAAC,EAAE,GAAAC,MAAA;IAAEjB,KAAK,EAAC,cAAc;IAACkB,YAAY,EAAC,KAAK;IAACC,QAAQ,EAAR;iDAA5CJ,KAAA,CAAAC,EAAE,E,KAElCf,mBAAA,CAGM,OAHNmB,UAGM,GAFFC,UAAsD,E,gBACtDpB,mBAAA,CAA6F;+DAA1Ec,KAAA,CAAAO,EAAE,GAAAL,MAAA;IAAEjB,KAAK,EAAC,cAAc;IAACkB,YAAY,EAAC,KAAK;IAACC,QAAQ,EAAR,EAAQ;IAACI,IAAI,EAAC;iDAA1DR,KAAA,CAAAO,EAAE,E,KAEzBE,UAA6D,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}