var AlgoliaAnalytics=function(n){"use strict";function e(){"function"!=typeof Object.assign&&(Object.assign=function(n,e){var t=arguments;if(null==n)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(n),r=1;r<arguments.length;r++){var o=t[r];if(null!=o)for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])}return i})}function t(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}function i(n){return n.reduce(function(n,e){var t=n.events,i=n.additionalParams;return"index"in e?{additionalParams:i,events:t.concat([e])}:{events:t,additionalParams:e}},{events:[],additionalParams:void 0})}var r=function(){try{return Boolean(navigator.cookieEnabled)}catch(n){return!1}},o=function(){try{return Boolean(navigator.sendBeacon)}catch(n){return!1}},s=function(){try{return Boolean(XMLHttpRequest)}catch(n){return!1}},a=function(n){return void 0===n},u=function(n){return"number"==typeof n},c=function(n){return"function"==typeof n};function l(n){return function(e,i){var r,o,s,u=this;if(!this._userHasOptedOut){if(!(!a(this._apiKey)&&!a(this._appId)||(null===(r=i)||void 0===r?void 0:r.headers["X-Algolia-Application-Id"])&&(null===(o=i)||void 0===o?void 0:o.headers["X-Algolia-API-Key"])))throw new Error("Before calling any methods on the analytics, you first need to call the 'init' function with appId and apiKey parameters or provide custom credentials in additional parameters.");var c=e.map(function(n){var e,i,r=n.filters,o=t(n,["filters"]),s=Object.assign(Object.assign({},o),{userToken:(i=null===(e=n)||void 0===e?void 0:e.userToken,null!==i&&void 0!==i?i:u._userToken)});return a(r)||(s.filters=r.map(encodeURIComponent)),s});return function(n,e,t,i,r,o,s){void 0===s&&(s={});var a=Object.assign({"X-Algolia-Application-Id":e,"X-Algolia-API-Key":t,"X-Algolia-Agent":encodeURIComponent(i.join("; "))},s),u=Object.keys(a).map(function(n){return n+"="+a[n]}).join("&");return n(r+"/1/events?"+u,{events:o})}(n,this._appId,this._apiKey,this._ua,this._endpointOrigin,c,null===(s=i)||void 0===s?void 0:s.headers)}}}var h="2.4.0",d=["insights-js ("+h+")","insights-js-browser-iife ("+h+")"];var f=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var e=16*Math.random()|0;return("x"===n?e:3&e|8).toString(16)})},v="_ALGOLIA",p=2592e6,g=function(n,e,t){var i=new Date;i.setTime(i.getTime()+t);var r="expires="+i.toUTCString();document.cookie=n+"="+e+";"+r+";path=/"},b=function(n){for(var e=n+"=",t=document.cookie.split(";"),i=0;i<t.length;i++){for(var r=t[i];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(e))return r.substring(e.length,r.length)}return""};e();var O,k,y,x,m=["de","us"];function j(n){var e;if(void 0===n&&(n={}),!a(n.region)&&-1===m.indexOf(n.region))throw new Error("optional region is incorrect, please provide either one of: "+m.join(", ")+".");if(!(a(n.cookieDuration)||u(n.cookieDuration)&&isFinite(n.cookieDuration)&&Math.floor(n.cookieDuration)===n.cookieDuration))throw new Error("optional cookieDuration is incorrect, expected an integer.");!function(n,e,i){var r=e.partial,o=t(e,["partial"]);r||Object.assign(n,i);Object.assign(n,Object.keys(o).reduce(function(n,e){var t;return Object.assign(Object.assign({},n),((t={})["_"+e]=o[e],t))},{}))}(this,n,{_userHasOptedOut:!!n.userHasOptedOut,_region:n.region,_useCookie:(e=n.useCookie,null!==e&&void 0!==e&&e),_cookieDuration:n.cookieDuration||6*p}),this._endpointOrigin=n.region?"https://insights."+n.region+".algolia.io":"https://insights.algolia.io",this._ua=[].concat(d),n.userToken?this.setUserToken(n.userToken):this._userToken||this._userHasOptedOut||!this._useCookie||this.setAnonymousUserToken()}function _(n,e){return e.map(function(e){return Object.assign({eventType:n},e)})}Object.keys||(Object.keys=(O=Object.prototype.hasOwnProperty,k=!{toString:null}.propertyIsEnumerable("toString"),x=(y=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(n){if("function"!=typeof n&&("object"!=typeof n||null===n))throw new TypeError("Object.keys called on non-object");var e,t,i=[];for(e in n)O.call(n,e)&&i.push(e);if(k)for(t=0;t<x;t++)O.call(n,y[t])&&i.push(y[t]);return i})),e();var T=function(n){var e=n.requestFn;this._endpointOrigin="https://insights.algolia.io",this._userHasOptedOut=!1,this._useCookie=!1,this._cookieDuration=6*p,this._ua=[],this.version=h,this.sendEvents=l(e).bind(this),this.init=j.bind(this),this.addAlgoliaAgent=function(n){-1===this._ua.indexOf(n)&&this._ua.push(n)}.bind(this),this.setUserToken=function(n){this._userToken=n,c(this._onUserTokenChangeCallback)&&this._onUserTokenChangeCallback(this._userToken)}.bind(this),this.setAnonymousUserToken=function(){if(r()){var n=b(v);n&&""!==n&&0===n.indexOf("anonymous-")?this.setUserToken(n):(this.setUserToken("anonymous-"+f()),g(v,this._userToken,this._cookieDuration))}}.bind(this),this.getUserToken=function(n,e){return c(e)&&e(null,this._userToken),this._userToken}.bind(this),this.onUserTokenChange=function(n,e){this._onUserTokenChangeCallback=n,e&&e.immediate&&c(this._onUserTokenChangeCallback)&&this._onUserTokenChangeCallback(this._userToken)}.bind(this),this.clickedObjectIDsAfterSearch=function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];var t=i(n),r=t.events,o=t.additionalParams;return this.sendEvents(_("click",r),o)}.bind(this),this.clickedObjectIDs=function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];var t=i(n),r=t.events,o=t.additionalParams;return this.sendEvents(_("click",r),o)}.bind(this),this.clickedFilters=function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];var t=i(n),r=t.events,o=t.additionalParams;return this.sendEvents(_("click",r),o)}.bind(this),this.convertedObjectIDsAfterSearch=function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];var t=i(n),r=t.events,o=t.additionalParams;return this.sendEvents(_("conversion",r),o)}.bind(this),this.convertedObjectIDs=function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];var t=i(n),r=t.events,o=t.additionalParams;return this.sendEvents(_("conversion",r),o)}.bind(this),this.convertedFilters=function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];var t=i(n),r=t.events,o=t.additionalParams;return this.sendEvents(_("conversion",r),o)}.bind(this),this.viewedObjectIDs=function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];var t=i(n),r=t.events,o=t.additionalParams;return this.sendEvents(_("view",r),o)}.bind(this),this.viewedFilters=function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];var t=i(n),r=t.events,o=t.additionalParams;return this.sendEvents(_("view",r),o)}.bind(this),this.getVersion=function(n){c(n)&&n(this.version)}.bind(this)},w=function(n,e){var t=JSON.stringify(e);if(!navigator.sendBeacon(n,t))return A(n,e)},A=function(n,e){var t=JSON.stringify(e),i=new XMLHttpRequest;i.open("POST",n),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("Content-Length",""+t.length),i.send(t)};function C(n){var e,t=n.AlgoliaAnalyticsObject;if(t){var i=(e=this,function(n){for(var t=[],i=arguments.length-1;i-- >0;)t[i]=arguments[i+1];n&&c(e[n])?e[n].apply(e,t):console.warn("The method `"+n+"` doesn't exist.")}),r=n[t];r.queue=r.queue||[];var o=r.queue;o.forEach(function(n){var e=[].slice.call(n),t=e[0],r=e.slice(1);i.apply(void 0,[t].concat(r))}),o.push=function(n){var e=[].slice.call(n),t=e[0],r=e.slice(1);i.apply(void 0,[t].concat(r))}}}function P(n){var e=new T({requestFn:n});return"object"==typeof window&&C.call(e,window),e.version=h,e}var E=P(function(){if(o())return w;if(s())return A;throw new Error("Could not find a supported HTTP request client in this environment.")}());return n.createInsightsClient=P,n.default=E,n}({});
